<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî Coworking</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <script defer src="{{ url_for('static', filename='app.js') }}"></script>
</head>
<body>
  <header>
    <div><strong>Coworking</strong></div>
    <nav>
      <a href="{{ url_for('index') }}">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="{{ url_for('bookings_view') }}">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
      <a href="{{ url_for('register') }}">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
      <a href="{{ url_for('login') }}">–í—Ö–æ–¥</a>
      <a href="{{ url_for('logout') }}">–í—ã—Ö–æ–¥</a>
    </nav>
  </header>
  <main>
    <div class="card">
      <h2>–ó–∞—è–≤–∫–∞ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

      {% if error %}
        <div class="error">{{ error }}</div>
      {% endif %}

      <form id="booking-form" method="POST" action="{{ url_for('book') }}">
        <label>–¢–∏–ø –ø–æ–º–µ—â–µ–Ω–∏—è
          <select name="room_type" id="room_type">
            <option value="workspace_open">–û—Ç–∫—Ä—ã—Ç–æ–µ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ</option>
            <option value="office_light">–ö–∞–±–∏–Ω–µ—Ç ¬´–õ–∞–π—Ç¬ª</option>
            <option value="office_premium">–ö–∞–±–∏–Ω–µ—Ç ¬´–ü—Ä–µ–º–∏—É–º¬ª</option>
            <option value="meeting_room">–ü–µ—Ä–µ–≥–æ–≤–æ—Ä–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞</option>
          </select>
        </label>
        <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ <input type="date" name="start_date" id="start_date" required></label>
        <label>–ï–¥–∏–Ω–∏—Ü–∞
          <select name="duration_unit" id="duration_unit">
            <option value="days">–î–Ω–∏</option>
            <option value="hours">–ß–∞—Å—ã</option>
          </select>
        </label>
        <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å <input type="number" name="duration_value" id="duration_value" value="1" min="1" required></label>
        <button type="submit">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </form>

      {% if alt_date or alt_type %}
        <div class="alternatives">
          <h3>üîÑ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é</h3>
          <ul>
            {% if alt_date %}
              <li>üìÖ –ë–ª–∏–∂–∞–π—à–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –¥–∞—Ç–∞: <strong>{{ alt_date.strftime("%d.%m.%Y") }}</strong></li>
            {% endif %}
            {% if alt_type %}
              <li>üè¢ –ù–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É –¥–æ—Å—Ç—É–ø–µ–Ω –¥—Ä—É–≥–æ–π —Ç–∏–ø –ø–æ–º–µ—â–µ–Ω–∏—è: <strong>{{ alt_type }}</strong></li>
            {% endif %}
          </ul>
        </div>
      {% endif %}
    </div>

    <!-- üìã –ú–æ–∏ –∑–∞—è–≤–∫–∏ -->
    <div class="card">
      <h2>üìã –ú–æ–∏ –∑–∞—è–≤–∫–∏</h2>
      {% if bookings %}
        <ul class="my-bookings">
          {% for b in bookings %}
            <li>
              <span class="booking-id">#{{ b[0] }}</span>
              <span class="booking-type">üè¢ {{ b[1] }}</span>
              <span class="booking-date">üìÖ {{ b[2] }}</span>
              <span class="booking-duration">‚è± {{ b[4] }} {{ b[3] }}</span>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="empty">–£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞—è–≤–æ–∫. üöÄ</p>
      {% endif %}
    </div>
  </main>
</body>
</html>

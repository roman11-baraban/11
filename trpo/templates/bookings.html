<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî Coworking</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <header>
    <div class="container">
      <div class="header-content">
        <a href="{{ url_for('index') }}" class="logo">Coworking</a>
        <nav>
          <a href="{{ url_for('index') }}">–ì–ª–∞–≤–Ω–∞—è</a>
          <a href="{{ url_for('bookings_view') }}" class="active">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
          <a href="{{ url_for('register') }}">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
          <a href="{{ url_for('login') }}">–í—Ö–æ–¥</a>
          {% if user and user.is_admin %}
          <a href="{{ url_for('admin_panel') }}">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
          {% endif %}
          <a href="{{ url_for('logout') }}">–í—ã—Ö–æ–¥</a>
        </nav>
        {% if user %}
        <div class="user-info">
          üë§ {{ user.username }}
          {% if user.is_admin %}üëë{% endif %}
        </div>
        {% endif %}
      </div>
    </div>
  </header>

  <main class="container">
    {% if error %}
    <div class="alert alert-error">
      ‚ö†Ô∏è {{ error }}
    </div>
    {% endif %}

    <!-- –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">–ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
      </div>

      <form id="booking-form" method="POST" action="{{ url_for('book') }}">
        <div class="form-row">
          <div class="form-group">
            <label for="room_type">–¢–∏–ø –ø–æ–º–µ—â–µ–Ω–∏—è</label>
            <select name="room_type" id="room_type" required>
              <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ–º–µ—â–µ–Ω–∏—è</option>
              <option value="workspace_open">–û—Ç–∫—Ä—ã—Ç–æ–µ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ</option>
              <option value="office_light">–ö–∞–±–∏–Ω–µ—Ç ¬´–õ–∞–π—Ç¬ª</option>
              <option value="office_premium">–ö–∞–±–∏–Ω–µ—Ç ¬´–ü—Ä–µ–º–∏—É–º¬ª</option>
              <option value="meeting_room">–ü–µ—Ä–µ–≥–æ–≤–æ—Ä–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞</option>
            </select>
          </div>

          <div class="form-group">
            <label for="start_date">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
            <input type="date" name="start_date" id="start_date" 
                   min="{{ today }}" max="{{ max_date }}" 
                   value="{{ today }}" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="duration_unit">–ï–¥–∏–Ω–∏—Ü–∞ –≤—Ä–µ–º–µ–Ω–∏</label>
            <select name="duration_unit" id="duration_unit" required>
              <option value="days">–î–Ω–∏</option>
              <option value="hours">–ß–∞—Å—ã</option>
            </select>
          </div>

          <div class="form-group">
            <label for="duration_value">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</label>
            <input type="number" name="duration_value" id="duration_value" 
                   value="1" min="1" max="30" required>
          </div>
        </div>

        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-block">
            üìÖ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
          </button>
        </div>
      </form>
    </div>

    <!-- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è -->
    {% if alt_date or alt_types %}
    <div class="alternatives">
      <div class="alternatives-title">
        üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
      </div>
      
      <ul class="alternatives-list">
        {% if alt_date %}
        <li>
          üìÖ –ë–ª–∏–∂–∞–π—à–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –¥–∞—Ç–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞: <strong>{{ alt_date.strftime('%d.%m.%Y') }}</strong>
        </li>
        {% endif %}
        
        {% if alt_types %}
        <li>
          üè¢ –ù–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É –¥–æ—Å—Ç—É–ø–Ω—ã –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –ø–æ–º–µ—â–µ–Ω–∏–π:
        </li>
        {% for type in alt_types %}
        <li style="margin-left: 2rem;">
          ‚úÖ <strong>{{ type }}</strong>
        </li>
        {% endfor %}
        {% endif %}
      </ul>
    </div>
    {% endif %}

    <!-- –ú–æ–∏ –∑–∞—è–≤–∫–∏ -->
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">–ú–æ–∏ –∑–∞—è–≤–∫–∏</h2>
        <div class="card-subtitle">
          –ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
        </div>
      </div>

      {% if bookings %}
      <ul class="bookings-list">
        {% for b in bookings %}
        <li class="booking-item">
          <div class="booking-header">
            <span class="booking-id">#{{ b[0] }}</span>
            <span class="booking-status active">–ê–∫—Ç–∏–≤–Ω–∞</span>
          </div>
          
          <div class="booking-details">
            <div class="booking-detail">
              üè¢
              <div>
                <div class="booking-label">–¢–∏–ø –ø–æ–º–µ—â–µ–Ω–∏—è</div>
                <div class="booking-value">{{ b[1] }}</div>
              </div>
            </div>
            
            <div class="booking-detail">
              üìÖ
              <div>
                <div class="booking-label">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</div>
                <div class="booking-value">{{ b[2] }}</div>
              </div>
            </div>
            
            <div class="booking-detail">
              ‚è±Ô∏è
              <div>
                <div class="booking-label">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
                <div class="booking-value">{{ b[4] }} {{ b[3] }}</div>
              </div>
            </div>
          </div>
        </li>
        {% endfor %}
      </ul>
      {% else %}
      <div class="empty-state">
        <div class="empty-state-icon">üì≠</div>
        <h3>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞—è–≤–æ–∫</h3>
        <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ –ø–µ—Ä–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ñ–æ—Ä–º—ã –≤—ã—à–µ</p>
      </div>
      {% endif %}
    </div>
  </main>

  <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>–´